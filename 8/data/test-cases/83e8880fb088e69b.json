{"uid":"83e8880fb088e69b","name":"Test Staker points calculation","fullName":"test_points#test_staker_points_calculation","historyId":"fd0b642751334708552bd6d33bd397b5","time":{"start":1717003493109,"stop":1717003493668,"duration":559},"description":"Test that the staker points are calculated correctly based on the staker's stake and the time passed since the last points calculation\nThe staker receives 1 point per hour based on the 1 ETH that was delegated to operator(s) that are registered to eoracle","descriptionHtml":"<p>Test that the staker points are calculated correctly based on the staker's stake and the time passed since the last points calculation<br />\nThe staker receives 1 point per hour based on the 1 ETH that was delegated to operator(s) that are registered to eoracle</p>\n","status":"failed","statusMessage":"AssertionError: assert 21019.486092380892 == (21019.486092380892 + (30.173977222222224 * 32.01066960949819))\n +  where 21019.486092380892 = float('21019.486092380892')\n +  and   21019.486092380892 = float('21019.486092380892')\n +  and   32.01066960949819 = float('32.01066960949819')","statusTrace":"@allure.title(\"Test Staker points calculation\")\n    @allure.description(\"Test that the staker points are calculated correctly based on the staker's stake and the time passed since the last points calculation\\nThe staker receives 1 point per hour based on the 1 ETH that was delegated to operator(s) that are registered to eoracle\")\n    def test_staker_points_calculation():\n        parsed_response =  get_points_for_address(STAKER_TEST_ADDRESS)\n        last_points_date = parsed_response[\"date\"]\n        hours_difference = get_hours_difference(STAKER_START_POINT[\"date\"], last_points_date)\n>       assert float(parsed_response[\"points\"]) == (float(STAKER_START_POINT[\"points\"]) + hours_difference * float(STAKER_START_POINT[\"stake\"]))\nE       AssertionError: assert 21019.486092380892 == (21019.486092380892 + (30.173977222222224 * 32.01066960949819))\nE        +  where 21019.486092380892 = float('21019.486092380892')\nE        +  and   21019.486092380892 = float('21019.486092380892')\nE        +  and   32.01066960949819 = float('32.01066960949819')\n\ntest_points.py:62: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Test that the staker points are calculated correctly based on the staker's stake and the time passed since the last points calculation\nThe staker receives 1 point per hour based on the 1 ETH that was delegated to operator(s) that are registered to eoracle","status":"failed","statusMessage":"AssertionError: assert 21019.486092380892 == (21019.486092380892 + (30.173977222222224 * 32.01066960949819))\n +  where 21019.486092380892 = float('21019.486092380892')\n +  and   21019.486092380892 = float('21019.486092380892')\n +  and   32.01066960949819 = float('32.01066960949819')","statusTrace":"@allure.title(\"Test Staker points calculation\")\n    @allure.description(\"Test that the staker points are calculated correctly based on the staker's stake and the time passed since the last points calculation\\nThe staker receives 1 point per hour based on the 1 ETH that was delegated to operator(s) that are registered to eoracle\")\n    def test_staker_points_calculation():\n        parsed_response =  get_points_for_address(STAKER_TEST_ADDRESS)\n        last_points_date = parsed_response[\"date\"]\n        hours_difference = get_hours_difference(STAKER_START_POINT[\"date\"], last_points_date)\n>       assert float(parsed_response[\"points\"]) == (float(STAKER_START_POINT[\"points\"]) + hours_difference * float(STAKER_START_POINT[\"stake\"]))\nE       AssertionError: assert 21019.486092380892 == (21019.486092380892 + (30.173977222222224 * 32.01066960949819))\nE        +  where 21019.486092380892 = float('21019.486092380892')\nE        +  and   21019.486092380892 = float('21019.486092380892')\nE        +  and   32.01066960949819 = float('32.01066960949819')\n\ntest_points.py:62: AssertionError","steps":[{"name":"Get points for address","time":{"start":1717003493110,"stop":1717003493667,"duration":557},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"address","value":"'0xc12A1D786922E727d07C34F27d555175A55f7461'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"Get the hours difference between two dates","time":{"start":1717003493668,"stop":1717003493668,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"date1","value":"'2024-05-28T11:14:27.273Z'"},{"name":"date2","value":"'2024-05-29T17:24:53.591Z'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"suite","value":"test_points"},{"name":"host","value":"fv-az665-912"},{"name":"thread","value":"2078-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_points"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"27efc06d0db4ec81","reportUrl":"https://CoHuK.github.io/lb-test-task/7//#testresult/27efc06d0db4ec81","status":"failed","statusDetails":"AssertionError: assert 21019.486092380892 == (21019.486092380892 + (28.078814444444447 * 32.01066960949819))\n +  where 21019.486092380892 = float('21019.486092380892')\n +  and   21019.486092380892 = float('21019.486092380892')\n +  and   32.01066960949819 = float('32.01066960949819')","time":{"start":1716996369784,"stop":1716996370257,"duration":473}}]},"tags":[]},"source":"83e8880fb088e69b.json","parameterValues":[]}